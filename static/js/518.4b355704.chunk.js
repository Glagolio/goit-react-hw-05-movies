"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[518],{2868:function(t,n,e){var r=e(184);n.Z=function(t){var n=t.onClick;return(0,r.jsx)("button",{type:"button",onClick:n,children:"Load More"})}},2518:function(t,n,e){e.r(n),e.d(n,{default:function(){return m}});var r=e(2982),a=e(885),u=e(5705),c=e(4386),i=e(184),o=c.Ry().shape({searchMovie:c.Z_().min(2,"Too Short!").max(20,"Too Long").required("Required")}),s=function(t){var n=t.onSubmit;return(0,i.jsx)(u.J9,{initialValues:{searchMovie:""},onSubmit:n,validatorSchema:o,children:function(t){var n=t.errors,e=t.touched;return(0,i.jsxs)(u.l0,{children:[(0,i.jsx)(u.gN,{name:"searchMovie",children:n.searchMovie&&e.searchMovie?(0,i.jsx)("div",{children:n.searchMovie}):null}),(0,i.jsx)("button",{type:"submit",children:"Search"})]})}})},f=e(3504),p=function(t){var n=t.movies,e=t.state;return(0,i.jsx)("ul",{children:n.map((function(t){var n=t.title,r=t.id;return(0,i.jsx)("li",{children:(0,i.jsx)(f.rU,{to:"".concat(r),state:e,children:n})},r)}))})},v=e(2868),h=e(2791),l=e(9323),d=e(6871),m=function(){var t=(0,h.useState)(1),n=(0,a.Z)(t,2),e=n[0],u=n[1],c=(0,f.lr)(),o=(0,a.Z)(c,2),m=o[0],x=o[1],g=(0,h.useState)([]),b=(0,a.Z)(g,2),k=b[0],y=b[1],w=(0,h.useState)(0),Z=(0,a.Z)(w,2),_=Z[0],j=Z[1],S=(0,h.useState)(""),M=(0,a.Z)(S,2),q=M[0],C=M[1],U=m.get("query"),L=(0,d.TH)();(0,h.useEffect)((function(){U&&(q!==U&&y([]),(0,l.uP)(e,U).then((function(t){y((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(t.results))})),j(t.total_pages),C(U)})))}),[U,e,q]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s,{onSubmit:function(t){u(1),j(0),x({query:t.searchMovie})}}),k.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p,{movies:k,state:{from:L}}),_!==e&&(0,i.jsx)(v.Z,{onClick:function(){u((function(t){return t+1}))}})]})]})}},9323:function(t,n,e){e.d(n,{fw:function(){return s},t2:function(){return f},tx:function(){return p},uP:function(){return h},zv:function(){return v}});var r=e(5861),a=e(4687),u=e.n(a),c=e(4569),i=e.n(c),o="659c146febfafc17fd54baa17527f7fa";i().defaults.baseURL="https://api.themoviedb.org/3";var s=function(){var t=(0,r.Z)(u().mark((function t(n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("/trending/movie/day?api_key=".concat(o,"&page=").concat(n));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(u().mark((function t(n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("/movie/".concat(n,"?api_key=").concat(o,"&language=en-US"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(u().mark((function t(n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("movie/".concat(n,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(u().mark((function t(n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("/movie/".concat(n,"/credits?api_key=").concat(o,"&language=en-US"));case 2:return e=t.sent,t.abrupt("return",e.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),h=function(){var t=(0,r.Z)(u().mark((function t(n,e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().get("search/movie?api_key=".concat(o,"&query=").concat(e,"&page=").concat(n));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=518.4b355704.chunk.js.map